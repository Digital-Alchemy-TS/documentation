---
title: ‚öôÔ∏è Install / Configure
sidebar_position: 0
---

[![stars](https://img.shields.io/github/stars/Digital-Alchemy-TS/hass)](https://github.com/Digital-Alchemy-TS/hass)
[![codecov](https://codecov.io/gh/Digital-Alchemy-TS/hass/graph/badge.svg?token=LYUQ1FQ71D)](https://codecov.io/gh/Digital-Alchemy-TS/hass)
[![version](https://img.shields.io/github/package-json/version/Digital-Alchemy-TS/hass)](https://www.npmjs.com/package/@digital-alchemy/hass)

**Runtime Support**: <img src="https://avatars.githubusercontent.com/u/108928776?s=48&v=4" alt="Bun" width="20"/> Bun,
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/nodejs/nodejs-original.svg" alt="Node.js" width="20"/> Node.js (v20+)

##  Install Modules

`@digital-alchemy/hass` installs as a basic package, using [üß© core](/docs/core/) to provide a wrapper around all the tools.

```bash
yarn add @digital-alchemy/core @digital-alchemy/hass
yarn add -D @digital-alchemy/type-writer
```

`type-writer` provides all of the relevant types for your üè° **Home Assistant** installation.
These are only for the editing experience & builds, they are **not** required to run the code.

### Add to project

```typescript
import { CreateApplication } from "@digital-alchemy/core";
import { LIB_HASS } from "@digital-alchemy/hass";

const MY_APP = CreateApplication({
  // import this project
  libraries: [LIB_HASS],
  // used to wire your services together
  name: "home_automation",
  services: {
    // üèóÔ∏è add your services here
  }
});

// üöÄ start the app
await MY_APP.bootstrap();
```

### Set connection info

If you are running inside **Code Server** or inside **Code Runner** addon, then your application already has access to authentication info üéâ

All other setups need to provide connection details. Using a `.env` file is the recommended method -

```
HASS_BASE_URL=http://localhost:8123
HASS_TOKEN=YOUR LONG LIVED ACCESS TOKEN
```
> Tokens can be generated via your user profile > **Security** tab > **Long-lived access tokens**

### Advanced Configuration

Additional configuration options for fine-tuning behavior:

```bash
# Debounce registry change events (default: 50ms)
HASS_EVENT_DEBOUNCE_MS=50

# Response timeout warnings (default: 5s)
HASS_EXPECT_RESPONSE_AFTER=5

# Rate limiting - crash if exceeded (default: 500/sec)
HASS_SOCKET_CRASH_REQUESTS_PER_SEC=500

# Rate limiting - warn if exceeded (default: 300/sec)
HASS_SOCKET_WARN_REQUESTS_PER_SEC=300

# Enable diagnostics system
HASS_EMIT_DIAGNOSTICS=true

# Retry interval for failed connections (default: 5s)
HASS_RETRY_INTERVAL=5
```

### Disabled Entities

By default commands contained in `hass.idBy.*` will not return disabled entities.
This is primarily done to reduce the size of the types files generated by `type-writer` and improve editor performance.

If you want access to the disabled entities, there are 2 options:

1. access & filter the internal registry directly
2. add flag to disable logic to `.env`

```
HASS_FILTER_DISABLED_ENTITIES_ID_BY=false
```

## Next Steps

- [üé¨ Type Writer](/docs/home-automation/hass/setup/type-writer/): capture your current **üè° Home Assistant** state as type definitions
- Creating Services <sup>(docs todo)</sup>
- [üé≠ Entity Proxies](/docs/home-automation/hass/entity-proxy): access entity state, listen for changes, and issue targeted service calls
- [üì£ Call Proxy](/docs/home-automation/hass/call-proxy): access all the tools from the **Developer tools** > **ACTIONS** tab
- [üîç Diagnostics](/docs/home-automation/hass/diagnostics): monitor performance and debug issues
